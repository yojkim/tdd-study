### 19. 테이블 차리기



- 테스트를 작성하다보면 `3A`라 불리는 공통된 패턴이 존재한다.
  1. 준비 - 객체 생성
  2. 행동 - 어떠한 자극을 준다.
  3. 확인 결과를 검사한다.
- 주로 1단계는 다양한 스케일과 테스트 케이스에서 항상 동일하게 나타나는데 이 때 새로운 객체를 얼마나 자주 생성해야하는가? 라는 문제에 직면하게 된다.
  - **성능** 
    - 테스트가 가능한 빨리 실행되기를 원한다.
    - 여러 테스트가 같은 객체를 사용한다면, 객체 하나만 생성해서 모든 테스트에 해당 객체를 쓰게 할 수 있다.
  - **격리** 
    - 한 테스트에서의 성공이나 실패가 다른 테스트에 영향을 주는 것을 원하지 않는다.
    - 여러 테스트가 한 객체를 공유하는 상태에서 테스트가 공유 객체의 값을 변경한다면 다른 테스트 결과에 영향을 미칠 수도 있다.

> 테스트 커플링을 만들지 말 것

- 테스트 커플링으로 인해 B 테스트 독립적으로 수행 했을 때 실패하지만 A 테스트 이후 테스트를 진행 했을 때 성공하는 경우는 치명적인 결과를 낳을 수 있다.



- 되도록 한 번에 메서드를 하나 이상 수정하지 않으면서 테스트가 통과 할 수 있도록 만들어야한다.